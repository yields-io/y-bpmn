
<form name="finalizeCampaign">
    <div class="form-group">
        <label for="campaignId">Campaign ID</label>
        <input class="form-control" cam-variable-type="String" cam-variable-name="campaignId" name="campaignId"
               readonly="true"/>
    </div>
    <div class="form-group">
        <label for="campaignApproved">Approve all campaigns?</label>
        <select cam-variable-name="APPROVED"
                cam-variable-type="Boolean">
            <option value="true">Yes</option>
            <option value="false">No</option>
        </select>
    </div>

    <script cam-script type="text/form-script">
        camForm.on('form-loaded', function() {
            camForm.variableManager.fetchVariable('performanceCheckReport_France');
            camForm.variableManager.fetchVariable('performanceCheckReport_Belgium');
        });

        camForm.on('variables-fetched', function() {
            $scope.performanceCheckReport_Fra = camForm.variableManager.variableValue('performanceCheckReport_France');
            $scope.performanceCheckReport_Bel = camForm.variableManager.variableValue('performanceCheckReport_Belgium');

            if ($scope.performanceCheckReport_Fra) {
                document.querySelector('#reportFra')
                    .contentDocument.write($scope.performanceCheckReport_Fra.html)
            }
            if ($scope.performanceCheckReport_Bel) {
                document.querySelector('#reportBel')
                    .contentDocument.write($scope.performanceCheckReport_Bel.html)
            }
        });
    </script>

    <p ng-show="performanceCheckReport_Fra">
        <h4>Performance check report France</h4>
        <iframe id="reportFra" style="width: 100%; height: 700px" scrolling="yes"></iframe>
    </p>

    <p ng-show="performanceCheckReport_Bel">
        <h4>Performance check report Belgium</h4>
        <iframe id="reportBel" style="width: 100%; height: 700px" scrolling="yes"></iframe>
    </p>

</form>
